# https://taskfile.dev

version: '3'

vars:
  GREETING: Hello, World!

tasks:
  default:
    desc: Default task = show tasks
    cmds:
      - task -a
    silent: true

  init:py:
    desc: Add key python packages to environment
    cmds:
      - uv pip compile requirements.in -o requirements.txt
      #- uv add -r requirements.in -c requirements.txt
      - sleep 0.33
      - uv add -r requirements.txt

  r:main:
    desc: Run the root directory main.py installed by uv
    cmds:
      - uv run main.py

  do:cli:
    desc: Run the cli.py installed by uv
    cmds:
      - uv run python3 -m cli

  ex:orch:
    desc: Run elixir orchestrator
    cmds:
      - cd orchestrate && mix clean && mix deps.get && mix compile

  add:bin:
    desc: Add a rust binary to execute workspace
    cmds:
      - cargo install --path .
